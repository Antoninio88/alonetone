// check out variables and override pre-import
// https://github.com/thredded/thredded/blob/master/app/assets/stylesheets/thredded/base/_variables.scss

$thredded-base-font-family: $sans-font;
$thredded-heading-font-family: $sans-font;
$thredded-grid-container-max-width: none;
$thredded-brand: $accent;
$thredded-base-border-color: $grey100;

$thredded-font-size-small: 13px;

@import "thredded";

.thredded_container {
  max-width: $site_max_width;
  padding: 0 $baseline * 1.5;
  box-sizing: border-box;
  margin-left: auto;
  margin-right: auto;
  @media #{$one-column} {
    padding-left: 4%;
    padding-right: 4%;
    width: auto;
    margin-left: $baseline / 2;
    margin-right: $baseline / 2;
  }
  @media #{$mobile} {
    padding-left: 4%;
    padding-right: 4%;
    width: 100%;
    margin-left: 0;
    margin-right: 0;
  }
  #thredded--container {
    &.thredded--edit-topic,
    &.thredded--edit-post,
    &.thredded--messageboards-new,
    &.thredded--messageboard-edit,
    &.thredded--messageboard-groups-new {
      .thredded--main-section {
        padding: 48px;
        padding-bottom: 10px;
        @media #{$mobile} {
          padding: 12px;
        }
      }
    }
    &.thredded--topic-show {
      .thredded--main-section {
        padding-bottom: 48px;
      }
    }
    .thredded--topic-delete-form {
      text-align: right;
    }
    .thredded--button,
    .thredded--form--submit {
      @include default-button();
      height: auto;
      opacity: 1;
      visibility: visible;
      margin-top: 12px;
      margin-bottom: 24px;
    }
    .thredded--form {
      .thredded--button,
      .thredded--form--submit {
        @include default-button();
      }
      textarea#post_content,
      .thredded--preview-area--post {
        font-size: 14px;
        line-height: 17px;
      }
    }
    .thredded--alert-info,
    .thredded--flash-message--notice {
      background-color: transparent;
    }
    .thredded--flash-message {
      display: none;
    }
    .thredded--post--dropdown--actions--item,
    form.button_to > .thredded--post--dropdown--actions--item {
      height: 51px;
    }
    .thredded--post--dropdown {
      background-image: image-url("svg/icon_gear.svg");
      width: 15px;
      height: 15px;
      svg {
        display: none;
      }
    }
    .thredded--pagination {
      float: none;
      border-top: 0;
      span {
        font-size: 12px;
        line-height: inherit;
        display: block;
        float: left;
        height: auto;
        padding: 0;
        color: inherit;
      }
    }
    .thredded--preview-area {
      display: none!important;
    }
    .thredded--post-moderation-record--moderation-state-notice a,
    .thredded--post-moderation-record--content-changed-notice a,
    .thredded--link,
    .thredded--messageboard,
    .thredded--post--user a,
    .thredded--post--topic a,
    .thredded--post--user-and-topic a,
    .thredded--post--content a,
    .thredded--post--content--spoiler--summary,
    .thredded--topic-header--participants--participant > a,
    .thredded--topic-header--started-by a,
    .thredded--topic-header--edit-topic,
    .thredded--topic-header--follow-info form input[type="submit"],
    .thredded--topic-header--follow-info form button,
    .thredded--topics--title a,
    .thredded--topics--updated-by a,
    .thredded--topics--messageboard a {
      transition: 0;
    }
    .thredded--form [type="color"]:focus,
    .thredded--form [type="date"]:focus,
    .thredded--form [type="datetime"]:focus,
    .thredded--form [type="datetime-local"]:focus,
    .thredded--form [type="email"]:focus,
    .thredded--form [type="month"]:focus,
    .thredded--form [type="number"]:focus,
    .thredded--form [type="password"]:focus,
    .thredded--form [type="search"]:focus,
    .thredded--form [type="tel"]:focus,
    .thredded--form [type="text"]:focus,
    .thredded--form [type="time"]:focus,
    .thredded--form [type="url"]:focus,
    .thredded--form [type="week"]:focus,
    .thredded--form input:focus:not([type]),
    .thredded--form textarea:focus,
    .thredded--form select[multiple="multiple"]:focus {
      border: 1px solid #e1e1e1;
      box-shadow: none;
    }
    .thredded--preferences--form, .thredded--preferences--messageboards-nav {
      padding: 48px;
      @media #{$mobile} {
        padding: 12px;
      }
    }
    .thredded--preferences--title, .thredded--messageboards-group--title {
      color: $thredded-preferences-title-text;
    }
    .thredded--form-list--hint {
      color: $thredded-form-list-hint-text;
    }

    aside.thredded--currently-online {
      display: none;
    }
    .thredded--topic-delete--wrapper {
      border-top: 0;
      margin-top: 0;
      padding-top: 0;
    }
    .thredded--navigation-breadcrumbs {
      margin-left: 48px;
      padding-top: 22px;
      li:last-child:not(:first-child) a::before, .thredded--navigation-breadcrumbs li:last-child:not(:first-child).thredded--navigation-breadcrumbs--item-no-link::before {
        display: none;
      }
      li:last-child {
        display: none;
      }
      @media #{$mobile} {
        margin-left: 12px;
      }
      li {
        font-size: 14px;
        font-weight: bold;
        &::after {
          background: none;
          content: "â†’";
          color: $grey600;
          position: relative;
          left: -3px;
          @media #{$one-column} {
            display: none;
          }
          
        }
        a {
          color: $thredded-breadcrumbs-text;
          &:hover {
            text-decoration: underline;
          }
        }
      }
    }
    .thredded--form label {
      font-size: 12px;
      height: auto!important;
      margin: 8px;
      opacity: 1;
      visibility: visible;
    }
    .thredded--new-topic-form {
      label {
        height: auto;
        margin-bottom: $thredded-small-spacing / 2;
        opacity: 1;
        visibility: visible;
      }
      .private_users,
      .content,
      .submit {
        height: auto;
      }
      .thredded--form-list {
        background: $thredded-new-topic-background;
        padding-left: 48px;
        padding-right: 48px;
        padding-top: 16px;
        margin-bottom: 0;
        @media #{$mobile} {
          padding-left: 12px;
          padding-right: 12px;
        }
        label {
          font-size: 12px;
        }
        li {
          height: auto;
          visibility: visible;
          opacity: 1;
          margin: 0;
          text-align: right;
          &.title {
            input {
              margin-bottom: 24px;
            }
          }
        }
      }
      &.thredded--is-expanded {
        .title {
          input {
            background: #fff;
            width: 100%;
            text-align: left;
            color: black;
          }
        }
      }
    }
    header.thredded--main-header {
      nav.thredded--navigation {
        .thredded--navigation-top {
          display: flex;
          justify-content: space-between;
          .thredded--navigation--search {
            position: static;
            input[type="search"] {
              background: $thredded-search-background;
              color: $thredded-search-color;
              box-shadow: none;
              font-size: 12px;
              font-family: $medium-sans-font;
              margin-right: 0;
              margin-left: 0;
              min-width: 160px;
              text-align: left;
              height: 32px;
              padding: 0 0 0 8px!important;
              line-height: 32px!important;
              &:hover,
              &:focus {
                cursor: text;
                color: $thredded-search-color!important;
              }
              &::placeholder {
                color: $thredded-search-color;

                height: inherit;
                line-height: inherit;
                // Firefox applies default opacity of 0.54, while all the other browsers use 1.
                // See https://bugzilla.mozilla.org/show_bug.cgi?id=556145
                opacity: 1;
              }
              &:hover:not(:focus) {
                &:placeholder-shown {
                  // cursor: pointer;
                }
                &::placeholder {
                  color: $thredded-search-color;
                }
              }
            }
          }
          .thredded--user-navigation {
            border-bottom: 0;
            @media #{$mobile} {
              top: -30px;
            }

            li {
              &.thredded--user-navigation--private-topics,
              &.thredded--user-preferences--notifications-for-private-topics {
                display: none;
              }
              a {
                @include default-button();
                height: 32px;
                line-height: 34px;
                background-color: $thredded-user-navigation-link-background;
                &:hover {
                  background-color: $grey200;
                  ;
                }
                &:active {
                  background-color: $grey500;
                }
                .thredded--nav-text {
                  font-family: $medium-sans-font;
                  font-size: 12px;
                  font-weight: normal;
                  color: $thredded-user-navigation-link-text;
                }
              }
            }
          }
        }
        .thredded--main-navigation {
          .thredded--scoped-navigation {
            display: none;
          }
        }
      }
    }
    section.thredded--main-section {
      box-sizing: border-box;
      background-color: $thredded-main-section-background;
      margin-bottom: 16px;
      margin-top: 12px;
      @include samo-shadow-and-radius();
      overflow: hidden;
      &.thredded--topics {
        .top {
          display: flex;
          justify-content: space-between;
          .left {
            > h2 {
              margin-top: 0px;
              font-size: 24px;
              font-weight: bold;
              color: $thredded-topics-heading-text;
              padding-left: 48px;
              @media #{$mobile} {
                padding-left: 12px;
              }
            }
            > p {
              color: $thredded-topics-description-text;
              font-size: 14px;
              padding-left: 48px;
              @media #{$mobile} {
                padding-left: 12px;
              }
            }
            a.start_new_topic {
              @include default-button();
              margin-left: 48px;
              margin-bottom: 12px;
              @media #{$mobile} {
                margin-left: 12px;
              }
            }
          }
          .thumbnail {
            width: 120px;
            height: 120px;
            margin-right: $baseline;
            margin-top: $baseline / 2;
            img {
              width: 100%;
            }
            @media #{$mobile} {
              display: none;
            }
          }
        }
      }
      &.thredded--messageboards {
        .thredded--messageboards-group--title {
          @include title24();
          margin-left: 48px;
          padding-top: 48px;
          margin-bottom: 20px;
          margin-top: 0;
          @media #{$mobile} {
            margin-left: 12px;
            padding-top: 24px;
          }
          .thredded--link {
            color: $thredded-messsageboards-group-title-text;
          }
        }
        .thredded--messageboards-group {
          .thredded--grid-sizer {
            display: none!important;
          }
          display: block;
          &::before {
            display: none!important;
          }
          &::after {
            display: none!important;
          }
          &:last-child {
            padding-bottom: 42px;
          }
          .thredded--messageboard {
            border: 0;
            padding-left: 0;
            padding-bottom: 60px;
            background-color: $thredded-messageboards-group-messageboard-background;
            display: flex;
            flex-direction: row;
            padding-top: $baseline / 2;
            margin-bottom: 4px;
            @media #{$mobile} {
              padding-bottom: 24px;
            }
            .thumbnail {
              @media #{$mobile} {
                display: none;
              }
              width: 96px;
              height: 96px;
              margin-left: $baseline;
              margin-right: $baseline;
              img {
                width: 100%;
              }
            }
            .right {
              padding-top: 22px;
              @media #{$mobile} {
                margin-left: 12px;
              }
              .thredded--messageboard--header {
                margin-bottom: 10px;
                .thredded--messageboard--title {
                  color: $thredded-messageboard-title-color;
                  font-size: 18px;
                  margin-bottom: 0;
                }
              }
              .thredded--messageboard--description {
                color: $thredded--messageboard--description-text;
                font-family: $medium-sans-font;
                line-height: 18px;
              }
              .bottom {
                position: absolute;
                bottom: 30px;
                display: flex;
                font-size: 12px;
                line-height: 15px;
                font-weight: normal;
                font-family: $sans-font;
                flex-wrap: wrap;
                @media #{$mobile} {
                  position: static;
                }
                .dash {
                  color: $orangetone;
                  margin-right: 12px;
                }
                .thredded--messageboard--byline {
                  color: $thredded-messageboard-meta-text;
                  margin-top: 0;
                  font-size: 12px;
                  line-height: 15px;
                  font-weight: normal;
                  font-family: $sans-font;
                  cite {
                    font-style: normal;
                  }
                }
                .thredded--messageboard--meta {
                  margin-right: 12px;
                  .thredded--messageboard--meta--counts {
                    color: $thredded-messageboard-meta-text;
                    font-size: 12px;
                    line-height: 15px;
                  }
                }
              }
            }
          }
        }
      }
      article.thredded--topics--topic {
        padding-bottom: 12px;
        padding-top: 12px;
        margin-bottom: 0;
        margin-right: 0;
        background-color: $thredded-topics-background;
        &.thredded--topic-unread {
          position: relative;
          &::before {
            content: image-url("svg/icon_thredded_unread.svg");
            position: absolute;
            right: 16px;
          }
        }
        &.thredded--topic-locked {
          position: relative;
          &::before {
            content: image-url("svg/icon_thredded_lock.svg");
            position: absolute;
            right: 16px;
          }
        }
        &.thredded--topic-sticky {
          position: relative;
          &::after {
            content: image-url("svg/icon_thredded_sticky_topic.svg");
            position: absolute;
            left: 16px;
            top: 14px;
          }
        }
        &:nth-of-type(even) {
          background-color: $thredded-topics-alt-background;
        }
        .thredded--topics--follow-info {
          display: none;
        }
        .thredded--topics--posts-count {
          display: none;
        }
        h1.thredded--topics--title {
          display: block;
          margin-left: $baseline * 2;
          @media #{$mobile} {
            margin-left: 12px;
          }
          a {
            font-size: 18px;
            font-weight: bold;
            color: $thredded-topics-title-text;
          }
        }
        .thredded--topics--updated-by {
          font-family: $medium-sans-font;
          font-size: 14px;
          display: block;
          padding-left: 48px;
          color: $thredded-topics-updated-text;
          @media #{$mobile} {
            padding-left: 12px;
          }
          a {
            color: $orange600;
          }
        }
      }
      header.thredded--topic-header {
        padding-bottom: $baseline / 2;
        padding-left: 48px;
        padding-right: 48px;
        @media #{$mobile} {
          padding-left: 12px;
          padding-right: 12px;
        }
        h1.thredded--topic-header--title {
          font-size: 24px;
          font-weight: bold;
          color: $thredded-topics-heading-text;
        }
        .thredded--topic-header--started-by {
          color: $thredded-started-by-text;
        }
        .thredded--topic-header--follow-info {
          color: $thredded-followers-text;
        }
        .thredded--topic-followers {
          color: $thredded-followers-text;
        }
      }
      article.thredded--post {
        padding-top: 12px;
        padding-bottom: 27px;
        margin-bottom: 4px;
        background: $thredded-topics-background;
        padding-left: 48px;
        padding-right: 48px;
        @media #{$mobile} {
          padding-left: 12px;
          padding-right: 12px;
        }

        .thredded--post--user {
          a {
            color: $thredded-post-user-text;
          }
        }
        .thredded--post--created-at {
          color: $thredded-post-created-at-text;
        }
        .thredded--post--dropdown--actions {
          background-color: $thredded-post-dropdown-background;

        }
        .thredded--post--content {
          font-size: 1rem;
          line-height: 1.5rem;
          font-size: 1rem;
          color: $thredded-post-content-text;
          h1,
          h2,
          h3 {
            margin-bottom: 0;
          }
          h2 {
            margin-top: 2rem;
            margin-bottom: 0.25rem;
            line-height: 1.5rem;
          }
          ul {
            padding-left: 24px;
            li {
              list-style-type: disc;
            }
          }
          ol {
            counter-reset: listNumbering;
            padding-left: 6px;
            li {
              list-style: none;
              counter-increment: listNumbering;
              &:before {
                content: counter(listNumbering) ".";
                font-variant-numeric: tabular-nums;
                font-size: 14px;
                color: $body-text;
                margin-right: 6px;
              }
            }
          }
        }
      }
      .thredded--post-form--wrapper {
        border-top: 0;
        padding-left: 48px;
        padding-right: 48px;
        @media #{$mobile} {
          padding-left: 12px;
          padding-right: 12px;
        }
        .thredded--post-form--title {
          color: $thredded-post-form-title-text;
        }
        .thredded--preview-area--title {
          color: $thredded-post-form-title-text;
        }
        textarea {
          background-color: $thredded-form-list-textarea-background;
          color: $thredded-form-list-textarea-text;
        }
        .thredded--form-list {
          li {
            text-align: right;
          }
        }
      }
    }
    .thredded--messageboards--actions {
      margin-top: 0px;
      display: flex;
      justify-content: flex-end;
      flex-wrap: wrap;
      a {
        margin-top: 0;
        @include default-button();
        height: 32px;
        line-height: 34px;
        font-size: 14px;
        color: $thredded-message-board-actions-link-text;
        background-color: $thredded-message-board-actions-link-background;
        &:hover {
          background-color: $grey200;
        }
        &:active {
          background-color: $grey500;
        }
      }
    }
    [type="checkbox"]:not(:checked),
    [type="checkbox"] {
      left: 0;
      position: static;
      margin-bottom: 0;
    }
  }
}
