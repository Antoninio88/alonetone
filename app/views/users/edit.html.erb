<% if white_theme_enabled? %>

  <div class="edit_profile">

  <div class="box">
    
    <h1>Edit Profile</h1>

    <div class="edit_profile_separator"></div>

    <div class="edit_profile_top">
      <div class="edit_profile_top_left">
          <label>Profile Picture</label>
          <div class="user_avatar">
            <%= user_image(@user, variant: :edit_profile_avatar) %>
          </div>

          <a href="#" class="upload_image">Upload profile image&hellip;</a>

          <p class="instructions">
            Upload a square photo<br>
            2000px by 2000px for the best results
          </p>

      </div>
    
      <div class="edit_profile_top_right">
            <%= form_with model: @user do |f| -%>
            
              <label for="display_name">Name</label>
              <%= f.text_field :display_name %>
              
              <div class="city_and_country">

                <div>
                  <label for="user_bio">City</label>
                  <%= f.text_field :city %>
                </div>

                <div>
                  <label for="user_country">Country</label>
                    <%= f.text_field :city %>
                </div>

              </div>
              
              <label for="user_bio">Bio</label>
              <%= f.text_area :bio, class: 'double_trouble', cols: 50, rows: 15 %>

            <% end %>

            <a href="#">Save profile</a>
            <a href="#">Cancel</a>
      </div>
    </div>

    <div class="edit_profile_separator"></div>

    <div class="edit_profile_socials">

      <h3>Update social media links</h3>

      <%= form_with model: @user do |f| -%>

          <div class="edit_profile_socials_columns">
            <div class="edit_profile_socials_left_column">
                <label for="user_website">Website</label>
                <div class="row just_input">
                  <%== render file: svg_path('svg/icon_socials_website.svg') %> <%= f.text_field :website %>
                </div>

                <label for "user_spotify">Spotify</label>
                <div class="row">
                  <%== render file: svg_path('svg/icon_socials_spotify.svg') %> <div>open.spotify.com/artist/</div><%= f.text_field :spotify %>
                </div>

                <label for "user_apple">Apple Music</label>
                <div class="row">
                  <%== render file: svg_path('svg/icon_socials_apple_music.svg') %> <div>itunes.apple.com/us/artist/</div><%= f.text_field :apple %>
                </div>

                <label for "user_youtube">YouTube</label>
                <div class="row">
                  <%== render file: svg_path('svg/icon_socials_youtube.svg') %> <div>youtube.com/</div><%= f.text_field :apple %>
                </div>

            </div>
            <div class="edit_profile_socials_right_column">

                <label for "user_spotify">Bandcamp</label>
                <div class="row reversed">
                  <%== render file: svg_path('svg/icon_socials_bandcamp.svg') %> <%= f.text_field :bandcamp %><div>.bandcamp.com</div>
                </div>

                <label for "user_twitter">Twitter</label>
                <div class="row">
                  <%== render file: svg_path('svg/icon_socials_twitter.svg') %> <div>twitter.com/</div><%= f.text_field :twitter %>
                </div>

                <label for "user_instagram">Instagram</label>
                <div class="row">
                  <%== render file: svg_path('svg/icon_socials_instagram.svg') %> <div>instagram.com/</div><%= f.text_field :instagram %>
                </div>

                <a href="#">Update links</a>

            </div>
          </div>

      <% end %>
      
    </div>
    <div class="edit_profile_separator"></div>

      <div class="edit_profile_settings">

        <h3>Settings</h3>
        <%= form_for @user do |f| -%>

          <div class="edit_profile_settings_columns">

            <div class="edit_profile_settings_left_column">

              <div class="setting">
                <label>Display play counts blatantly on all tracks?</label>
                <div class="toggle toggle_off">
                  <div class="toggle_inner"></div>
                  <div class="toggle_label">OFF</div>
                </div>
              </div>

              <div class="edit_profile_separator"></div>

              <div class="setting">
                <label>Accept comments from guests?</label>
                <div class="toggle toggle_on">
                  <div class="toggle_inner"></div>
                  <div class="toggle_label">ON</div>
                </div>
              </div>

              <div class="edit_profile_separator"></div>

              <div class="setting">
                <label>Display most popular tracks on your home page?</label>
                <div class="toggle toggle_off">
                  <div class="toggle_inner"></div>
                  <div class="toggle_label">OFF</div>
                </div>
              </div>              

            </div>
            <div class="edit_profile_settings_right_column">
              
              <div class="edit_profile_separator"></div>

              <div class="setting">
                <label>Increase size of ego by 4x?</label>
                <div class="toggle toggle_off">
                  <div class="toggle_inner"></div>
                  <div class="toggle_label">OFF</div>
                </div>
              </div>

              <div class="edit_profile_separator"></div>
              
              <div class="setting">
                <label>Should we email you new comments on your tracks?</label>
                <div class="toggle toggle_off">
                  <div class="toggle_inner"></div>
                  <div class="toggle_label">OFF</div>
                </div>
              </div>

              <div class="edit_profile_separator"></div>
              
              <div class="setting">
                <label>Email notifications when folks you follow upload tracks?</label>
                <div class="toggle toggle_off">
                  <div class="toggle_inner"></div>
                  <div class="toggle_label">OFF</div>
                </div>
              </div>
              
            </div>
          </div>

          <% end %>
    </div>
  </div>
  
  <div class="edit_profile_change_your_password box">

    <%= form_with model: [@user, @profile] do |f| %>
    <h2>Change your password</h2>
    <p>
      This is not real!
    </p>

    <div>
      <%= f.text_field :login %><%= submit_tag "Change password" %>
    </div>

    <% end %>

  </div>

  <div class="edit_profile_change_your_login box">

    <div class="warning_tag">Warning</div>

    <%= form_with model: [@user, @profile] do |f| %>
    <h2>Change your login</h2>
    <p>
      Changing this will break any mp3 players you or anyone else has put on the web, as well as any links anyone has passed around to your music, as well as confuse google about where your music is for a few weeks. Basically, don't do this unless you have to, it makes life hard for folks finding your tunes.
    </p>

    <div>
      <div>alonetone.com/</div><%= f.text_field :login %><%= submit_tag "Update login name" %>
    </div>

    <% end %>

  </div>

  <div class="edit_profile_delete_your_account box">

    <div class="danger_tag">DANGER! DANGER!</div>

    <h2>Delete your account</h2>
    <p>
      We don’t want you to leave, but it’s ok. If you love somebody, set them free, right?
    </p>

    <div>

      <div class="delete_column">
        Delete Account?
        <a href="#">Delete</a>
      </div>
      <div class="sure_column">
        <div>Are you sure?</div>
        <a href="#">Yes</a>
        <a href="#">No</a>
      </div>
      <div class="ok_column">
        OK
      </div>
    
    </div>

  </div>

</div>




<% else %>

<%= error_messages_for :user %>

<%= render partial: 'users/user' unless white_theme_enabled? %>

<%= content_for :left do %>
  <div class="box edit-your-profile-box">
  </div>

  <div class="box edit-your-profile-box">
    <h2 class="box">Edit Your Deets</h2>
    <%= form_with model: [@user, @profile] do |f| %>
    <div class="static_content">
      <p>
        <label for="user_bio">Tell us about yourself</label><br/>
        <%= f.text_area :bio, class: 'double_trouble', cols: 50, rows: 15 %>
      </p>

      <p>
        <label for="user_bio">What city or town do you live in?</label><br/>
        <%= f.text_field :city %>
      </p>

      <p>
        <label for="user_country">What country?</label><br />
        <%= f.country_select(:country, ['United States'], include_blank: true) %>
      </p>

      <p>
        <label for="user_website">Have a website?</label><br/>
        https://<%= f.text_field :website %>
      </p>

      <p>
        <label for "user_spotify>Are you on Spotify?</label><br/>
        https://open.spotify.com/artist/<%= f.text_field :spotify %>
      </p>
      <p>
        <label for "user_apple>Apple Music?</label><br/>
        https://itunes.apple.com/us/artist/<%= f.text_field :apple %>
      </p>
      <p>
        <label for "user_spotify>Are you on Bandcamp?</label><br/>
        https://<%= f.text_field :bandcamp %>.bandcamp.com
      </p>

      <p>
        <label for "user_twitter">Twitter?</label><br/>
        https://twitter.com/<%= f.text_field :twitter %>
      </p>

      <p>
        <label for "user_instagram">Insta?</label><br/>
        https://instagram.com/<%= f.text_field :instagram %>
      </p>
    </div>
    <div class="static_content">
      <%= f.submit "Update Your Profile" %>
    </div>
    <% end %>
  </div>

<div class="box your-account-box">
  <h2 class="box">Your Account</h2>
  <%= form_for @user, html: { method: :put }, namespace: 'password' do |f| -%>
	<div class="static_content">
    <p><%= link_to("Change your login and alonetone address", '#edit_login', class: 'slide_open_href') %></p>
    <p><%= link_to("Change your password",'#edit_password', class: 'slide_open_href') %></p>
    <%= link_to("Delete your account",'#destroy_account', class: 'slide_open_href') %>
  </div>

  <div class="static_content">
  <div id="edit_password" class="static_content" style="display:none">
		Enter your desired new password twice, please:<br/>
		<%= f.password_field :password, required: true %><br/>
		<%= f.password_field :password_confirmation, required: true %><br/>
		<%= submit_tag "Change Your Password" %>

  </div>

  <div id="edit_login" class="static_content" style="display:none">
		<b>Change your login</b> <br/>
		WARNING: Changing this will break any mp3 players
		you or anyone else has put on the web, as well as any links anyone has passed around
		to your music, as well as confuse google about where your music is for a few weeks.<br/><br/>

		Basically, don't do this unless you have to, it makes life hard for folks finding your tunes.<br/>
		alonetone.com/<%= f.text_field :login %><br/>

		<%= submit_tag "Change Your login and account name" %>
  </div>

  <div id="destroy_account" class="static_content" style="display:none;">
    <b>WARNING</b><br/>
    This will completely remove ALL tracks, comments, listens, posts, etc that you have made on alonetone<br/><br/>
    <b>There is NO undo</b>, so make sure you are certain before clicking the button below:<br/><br/>

    <%= link_to "Delete", user_path(login: @user.login), method: :delete,
    data: { confirm: "Are you absolutely sure? This will delete the account of #{@user.login} PERMANENTLY, including all tracks, play history and comments."},
    class: 'delete_green' %>
    <br/><br/>
  </div>

  <% end %>
  </div>
  </div>
<% end %>

<%= content_for :right do %>
  <div class="box change-your-picture-box">
  <h2 class="box">Change Your Picture</h2>
  <div class="static_content">
      <p><%= user_image(@user, variant: :album) %></p>
      Upload a new photo. (1000px by 1000px square for best results)<br/>
      <%= form_for :pic, url: attach_pic_user_path(@user), html: {multipart: true, method: :post} do |f| %>
      	<%= f.file_field :pic  %>
      	<%= submit_tag "Upload New Pic" %>
      <% end %><br/>
  </div>
  </div>

  <div class="box settings-box">
  <h2 class="box">Settings</h2>
  <%= form_for @user do |f| -%>

  <div class="static_content">
    <label>Display play counts blatantly on all tracks?</label> <br/>
    <%= select_tag('user[settings][display_listen_count]',
        options_for_select([['no thanks','false'], ['yes','true']],
        user_setting(:display_listen_count))) %>
  </div>

  <div class="static_content">
    <label>Accept comments from guests?</label><br/>
    <%= select_tag('user[settings][block_guest_comments]',
        options_for_select([['yes, anyone can comment','false'], ['no, Alonetoners only please','true']],
         user_setting(:block_guest_comments))) %>
  </div>


  <div class="static_content">
    <label>Display most popular tracks on your home page?</label><br/>
    <%= select_tag('user[settings][most_popular]',
        options_for_select([['nope, stick with just the latest','false'], ['oh, pretty please!','true']],
         user_setting(:most_popular))) %>
  </div>

  <div class="static_content">
    <label>Increase size of ego by 4x?</label><br/>
    <%= select_tag('user[settings][increase_ego]',
        options_for_select([['uhm, no thanks','false'], ['hell yes!','true']],
        user_setting(:increase_ego))) %>

  </div>

  <div class="static_content">
    <label>Should we email you new comments on your tracks?</label><br/>
    <%= select_tag('user[settings][email_comments]',
        options_for_select([['of course, silly!','true'], ['I do not like email','false']],
        user_setting(:email_comments))) %>

  </div>

  <div class="static_content">
    <label>Email notifications when folks you follow upload tracks?</label><br/>
    <%= select_tag('user[settings][email_new_tracks]',
        options_for_select([['please! it helps me keep track of the artists i love','true'], ['I told you already, I hate email','false']],
        user_setting(:email_new_tracks))) %>
  </div>

  <div class="static_content">
    <%= submit_tag "Save Your Alonetone Settings" %>
  </div>
  <% end %>
</div>
<% end %>


<% end %>



